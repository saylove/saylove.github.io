<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
<script src="jquery.min_1.10.2.js"></script>
   <style>
   .time{
    float: right;
    color:purple;
   }
    *{margin: 0;padding: 0;}
        .ad{width: 100%;}
        .ad_main{width:400px;height: 250px;margin: 0 auto;position: relative;}
        .ad_mian ul li{width: 100%;height: 250px;float: left;}
        .ad .active{background: #ccc;}
        .btn{width: 100%;height: 50px;position: absolute;left:50%;top:50%;margin: -25px 0 0 -200px;color: #ccc;line-height: 50px;font-size: 30px;font-weight: bold;z-index: 50;display: none;}
        .left{float: left;cursor: pointer;background: #999;opacity: 0.7;}
        .right{float: right;cursor: pointer;background: #999;opacity: 0.7;}
        .ad:hover .btn{display: block;}


   </style>
   
<script>
    $(function(){
        var img_size = $(".ad>div a").length;
        //获取当前索引
        for(var i =0;i<img_size;i++){
            var name = i + 1;
            //插入图片
            $(".ad>div a").eq(i).append("<img src='img/"+name+".jpg' style='width:100%;height:100%;position: absolute;left:0;top:0;border:0;display:none;'>");
            $(".ad>div a").eq(0).find("img").show();
            //插入下标
            $(".ad>div").children("div").eq(0).append("<span style='display:inline-block;width: 15px;height: 15px;border:1px solid #ccc;border-radius: 360%;'></span>");
            //添加样式
            var w = $(".ad>div").children("div").eq(0).find("span").width()*(img_size+1);
            var h =  $(".ad>div").children("div").eq(0).find("span").height();
            $(".ad>div").children("div").eq(0).css({width:w,heigth:h,position:"absolute",left:"50%",bottom:0,marginLeft:-1 * w/2,cursor: "pointer",textAlign:"center"});
            $(".ad>div").children("div").eq(0).find("span").eq(0).addClass("active");
        }
         var x = 0;
        //淡入淡出特效
        function showImg(x){
            $(".ad>div a").eq(x).find("img").stop(true,true).fadeIn().parent("a").siblings().find("img").stop(true,true).fadeOut();
            $(".ad>div").children("div").eq(0).find("span").eq(x).addClass("active").siblings().removeClass("active");
        }
        //定时
        var now = setInterval(move,2000);
        function move(){//相当于向右移动
            x++;
            showImg(x);
            if(x==img_size){x=-1;}
        }
        //设置鼠标移入停止
        $(".ad").hover(function(){
            clearInterval(now);
        },function(){
            now = setInterval(move,2000);
        });
        //设置鼠标移入下表事件
        $(".ad>div").children("div").eq(0).find("span").mouseenter(function(){
            var index = $(this).index();
            x=index;//清除鼠标下表 定时器不往下一个继续运行的bug
            showImg(index);
        });
        //点击左右事件
        $(".right").click(function(){
            move();
        });
        $(".left").click(function(){
            x--;
            showImg(x);
            if(x==0){x=img_size;}
        });
    });
</script> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>魅力东京新闻专题</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/nivo-slider.css">
    <link rel="stylesheet" href="css/themes/default/default.css">
    <!-- <link rel="stylesheet" href="css/themes/bar/bar.css"> -->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
    <div class="container-fluid">
        <div class="row head-nav">
            <div class="head-nav-wrap">
                <div class="home">
                    <span class="glyphicon glyphicon-home" aria-hidden="true"></span>&nbsp;新华时政
                </div>
                <div class="site-nav"><span>新华网首页</span>|<span>新观察</span>|<span>微观中国</span>|<span>新华悦读</span>|<span>新华资料</span>|<span>新华法治</span>|<span>新华地方</span></div>

            </div>
        </div>
        
        <div class="row topic-abs">
        <div class=middle>
            <div class="topic-wrap">
                <div class="topic-title">
                 <div class="time">
                <script type="text/javascript">
var greeting;
var nowDate = new Date();
var nowHour = nowDate.getHours();
var nowMinute = nowDate.getMinutes();
var nowSecond = nowDate.getSeconds();
//格式化
if (nowMinute < 10)
{
    nowMinute = "0" + nowMinute;
}
if (nowSecond < 10)
{
    nowSecond = "0" + nowSecond;
}
//判断问候语
if (nowHour < 12)
{
    greeting = "Good Morning";
}
else if (nowHour < 17)
{
    greeting = "Good Afternoon";
}
else
{
    greeting = "Good Evening";
}
   
document.write("<h3>" + greeting + " and welcome to my website</h3>")
document.write("<h4>"+"杨老师您现在的时间是 ");
document.write(nowHour + ":" + nowMinute + ":" + nowSecond);
</script>
                </div>
                    <h1>魅力东京</h1>

                    <p>
                        感受大都会的魅力
                    </p>

                </div>
               
                <div class="abs">
                    <p>东京是日本国的政治、经济、文化中心，海陆空交通枢纽，根据建成区面积、人口以及国民生产总值等指标，东京是亚洲第一大城市，世界第二大城市。全球最大的经济中心之一。</p>
                </div>
            </div>
        </div>
    </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-sm-8">
                <h2>图片</h2>
                <div class="slider-wrapper theme-default">
                    <div id="slider" class="nivoSlider">
                        <img src="images/1.jpg" alt="疯狂外星人" title="">
                        <img src="images/5.jpg" alt="玩具总动员" title="">
                        <img src="images/7.jpg" alt="海底总动员" title="">
                        <img src="images/12.jpg" alt="猫" title="">
                    </div>
                </div>
                <h2>聚焦</h2>
                <div class="news-list">
                    <h3>一日一冷新闻：东京不允许色情萝莉</h3>
                    <p class="summary">日本东京立法院近日正研究一项规定：禁止发布带有挑逗性的幼年动漫(18岁以及18岁以下)。也就是说在至少目前在东京不能见到穿着暴露的小萝莉(动漫)和小正太(动漫)了。</p>
                    <p class="news-meta">2016-07-05</p>
                </div>
                <div class="news-list">
                    <h3>东京新闻：德国亚洲外交重心从中国向日本转移</h3>
                    <p class="summary"> 日本媒体称，热衷于同中国开展经贸外交而与日本渐行渐远的德国，以默克尔第三次担任总理为契机，开始将亚洲外交的重心逐步从中国向日本转移。默克尔率领的基民盟、基社盟与社民党组建大联合政府的联合组阁协议一改以往的态度，明确提出重视日本，德国今后有可能调整此前过于重视实际利益的外交了。</p>
                    <p class="news-meta">2016-07-05</p>
                </div>
                <div class="news-list">
                    <h3>日本东京：全球最宜居城市？</h3>
                    <p class="summary">近日，著名媒体Monocle杂志评选出世界上最宜居的25所城市，除东京独占鳌头外，日本福冈市和京都市分列第12名和第14名。随着三座城市的上榜，在外界看来生活节奏极快的日本如今貌似算得上是“幸福”指数最高的国家了。</p>
                    <p class="news-meta">2016-07-05</p>
                </div>
                <div class="news-list">
                    <h3>日本东京泳衣秀15岁少女夺冠</h3>
                    <p class="summary">11月14日，日本东京，服装制造商San-ai2012最新泳衣秀活动上演，数名清纯少女登台演绎最新泳衣，最终年仅15岁的高中生Kanon Miyahara（中）成为该活动的优胜者。</p>
                    <p class="news-meta">2016-07-05</p>
                </div>
                <h2>更多新闻</h2>
                <div>
                    <script src="http://news.baidu.com/ns?word=title%3A%E8%A5%BF%E8%97%8F%E5%92%8C%E5%B9%B3%E8%A7%A3%E6%94%BE&tn=newsfcu&from=news&cl=2&rn=6&ct=0"></script>
                </div>

               <style>canvas{background-color:#666666;z-index:9999;}
</style>
<canvas id="canvas-keleyi-com"></canvas>
<script>
var c = document.getElementById('canvas-ke'+'leyi-com');
if (!c.getContext) alert('请使用支持HTML5的浏览器，例如Chrome，IE9以上。');
else(function(c, cvs) {
//随着窗口调整画布大小
var W, H;
var up = 0; 
//(onresize = function() {
//     c.width = W = window.innerWidth;
//     c.height = H = window.innerHeight;
//    })();
c.width=W=600;
c.height=H=400;
//生成一个烟花
function createPT(x, y, r, g, b) {
return {
r: r,g: g,b: b,
x: x,y: y,
//轨迹序列
pl: [],
dx: rnd(20) - 10,
dy: rnd(10) - 7,
life: 30 + rnd(30),
//移动函数，修改加速度和坐标
move: function() {
this.dx *= .98;
this.dy *= .98;
this.dy += .22;
this.x += this.dx;
this.y += this.dy;
this.pl.push([this.x, this.y]);
//保持轨迹长度
if (this.pl.length > 10) this.pl.shift();
this.life--;
}
};
}
//总烟火数组
var B = [];
//在x,y位置创建一个烟火
function createBoom(x, y) {
var q = [],
r = rnd(255) | 0,
g = rnd(255) | 0,
b = rnd(255) | 0;
for (var i = 0; i < rnd(16) + 15; i++) q.push(createPT(x, y, r, g, b));
B.push(q);
}
setInterval(function() {
cvs.clearRect(0, 0, W, H);
//依次绘制烟火
for (var n = 0; n < B.length; n++) {
var q = B[n];
for (var i = 0; i < q.length; i++) {
var pt = q[i];
pt.move();
dq(pt.pl, pt.life / 30, pt.r, pt.g, pt.b);
//超过生存周期就消失 柯 乐 义
if (pt.life <= 0) q.splice(i, 1);
}
//当一个烟火包含的烟花个数为零，则消灭这个烟火
if (!B[n].length) B.splice(n, 1);
}
//每隔一段时间添加一个新烟火
if (new Date - up < 200 + rnd(200)) return;
up = new Date;
createBoom(rnd(W / 2) + W / 4, rnd(50) + 50);
},20);
function rnd(n) {
return (n || 1) * Math.random();
}
function dq(ar, z, r, g, b) {
cvs.save();
//绘制轨迹。思路是每次都绘制一条透明的轨迹，叠加起来形成一条渐变的样子
for (var i = 0; i < ar.length; i++) {
cvs.strokeStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + Math.abs(.1 * z) + ')';
cvs.lineWidth = Math.min(i + 1, 4)*2;
cvs.beginPath();
cvs.moveTo(ar[i][0], ar[i][1]);
for (var j = i + 1; j < ar.length; j++) cvs.lineTo(ar[j][0], ar[j][1]);
cvs.stroke();
}
cvs.restore();
}
})(c, c.getContext('2d'));
var fgm = {
 on: function(element, type, handler) {
  return element.addEventListener ? element.addEventListener(type, handler, false) : element.attachEvent("on" + type, handler)
 },
 un: function(element, type, handler) {
  return element.removeEventListener ? element.removeEventListener(type, handler, false) : element.detachEvent("on" + type, handler)
 },
 bind: function(object, handler) {
  return function() {
   return handler.apply(object, arguments) 
  } 
 },
 randomRange: function(lower, upper) {
  return Math.floor(Math.random() * (upper - lower + 1) + lower) 
 },
 getRanColor: function() {
  var str = this.randomRange(0, 0xFFFFFF).toString(16);
  while(str.length < 6) str = "0" + str;
  return "#" + str 
 }
};
//初始化对象
function FireWorks() {
 this.type = 0;
 this.timer = null;
 this.fnManual = fgm.bind(this, this.manual)
}
FireWorks.prototype = {
 initialize: function() {
  clearTimeout(this.timer);
  fgm.un(document, "click", this.fnManual);
  switch(this.type) {
   case 1:
    fgm.on(document, "click", this.fnManual);
    break;
   case 2:
    this.auto();
    break;
  };
 },
 manual: function(event) {
  event = event || window.event;
  this.__create__({
   x: event.clientX,
   y: event.clientY  
  });
 },
 auto: function ()
 {
  var that = this;
  that.timer = setTimeout(function() {   
   that.__create__({
    x: fgm.randomRange(50, document.documentElement.clientWidth - 50),
    y: fgm.randomRange(50, document.documentElement.clientHeight - 150)
   }) 
   that.auto();
  }, fgm.randomRange(900, 1100))
 },
 __create__: function (param)
 {
  var that = this;
  var oEntity = null;
  var oChip = null;
  var aChip = [];
  var timer = null;
  var oFrag = document.createDocumentFragment();
  
  oEntity = document.createElement("div");
  with(oEntity.style) {
   position = "absolute";
   top = document.documentElement.clientHeight + "px";
   left = param.x + "px";
   width = "4px";
   height = "30px";
   borderRadius = "4px";
   background = fgm.getRanColor();
  };
  document.body.appendChild(oEntity);
  oEntity.timer = setInterval(function() {
   oEntity.style.top = oEntity.offsetTop - 20 + "px";
   if(oEntity.offsetTop <= param.y) {
    clearInterval(oEntity.timer);
    document.body.removeChild(oEntity);
    (function() {
     //在50-100之间随机生成碎片
     //由于IE浏览器处理效率低, 随机范围缩小至20-30
     //自动放烟花时, 随机范围缩小至20-30
     var len = (/msie/i.test(navigator.userAgent) || that.type == 2) ? fgm.randomRange(20, 30) : fgm.randomRange(50, 100)     
     for (i = 0; i < len; i++) {
      oChip = document.createElement("div");
      with(oChip.style) {
       position = "absolute";
       top = param.y + "px";
       left = param.x + "px";
       width = "4px";
       height = "4px";
       overflow = "hidden";
       borderRadius = "4px";
       background = fgm.getRanColor();    
      };
      oChip.speedX = fgm.randomRange(-20, 20);
      oChip.speedY = fgm.randomRange(-20, 20);
      oFrag.appendChild(oChip);
      aChip[i] = oChip
     };
     document.body.appendChild(oFrag);
     timer = setInterval(function() {
      for(i = 0; i < aChip.length; i++) {
       var obj = aChip[i];
       with(obj.style) {
        top = obj.offsetTop + obj.speedY + "px";
        left = obj.offsetLeft + obj.speedX + "px";
       };
       obj.speedY++;
       (obj.offsetTop < 0 || obj.offsetLeft < 0 || obj.offsetTop > document.documentElement.clientHeight || obj.offsetLeft > document.documentElement.clientWidth) && (document.body.removeChild(obj), aChip.splice(i, 1))
      };
      !aChip[0] && clearInterval(timer);
     }, 30)
    })()
   }
  }, 30)
 }
};
fgm.on(window, "load", function() {
 var oTips = document.getElementById("tips");
 var aBtn = oTips.getElementsByTagName("a");
 var oFireWorks = new FireWorks();
 
 fgm.on(oTips, "click", function(event) {
  var oEvent = event || window.event;
  var oTarget = oEvent.target || oEvent.srcElement;
  var i = 0;
  if(oTarget.tagName.toUpperCase() == "A") {
   for(i = 0; i < aBtn.length; i++) aBtn[i].className = "";
   switch(oTarget.id) {
    case "manual":
     oFireWorks.type = 1;
     break;
    case "auto":
     oFireWorks.type = 2;
     break;
    case "stop":
     oFireWorks.type = 0;
     break;
   }
   oFireWorks.initialize();
   oTarget.className = "active";
   oEvent.stopPropagation ? oEvent.stopPropagation() : oEvent.cancelBubble = true
  }
 });
});
fgm.on(document, "contextmenu", function(event) {
 var oEvent = event || window.event;
 oEvent.preventDefault ? oEvent.preventDefault() : oEvent.returnValue = false
});
</script>
            </div>
            <div class="col-sm-4">
                <h2>大美东京</h2>
                <div class="image">
                    <a href="#"><img class="" src="images/6.jpg" alt=""></a>
                    <p class="pic-title"><a href="">东京美景</a></p>
                </div>
                <div class="image">
                    <a href="#"><img class="" src="images/10.jpg" alt=""></a>
                    <p class="pic-title"><a href="">东京美景</a></p>
                </div>
                <div class="image">
                    <a href="#"><img class="" src="images/17.jpg" alt=""></a>
                    <p class="pic-title"><a href="">东京美景</a></p>
                </div>
                <div class="image">
                    <a href="#"><img class="" src="images/13.jpg" alt=""></a>
                    <p class="pic-title"><a href="">东京美景</a></p>
                </div>
                <h2>注意休息</h2>
               <embed style="diaply: block" pluginspage=http://www.macromedia.com/go/getflashplayer src=http://www.51xflash.com/uploads/media/flashtime/2_090612185844.swf width=220 height=220 type=application/x-shockwave-flash allowScriptAccess="never" allowNetworking="internal" invokeURLs="false" quality="high" wmode="transparent"></embed>

                <h2 >二次元趣图</h2>
               <div class="ad">
    <div class="ad_main">
        <a href="#"></a>
        <a href="#"></a>
        <a href="#"></a>
        <a href="#"></a>
        <a href="#"></a>
        <div class="ad_list"></div>
        <div class="btn">
            <div class="left"><</div>
            <div class="right">></div>
        </div>
    </div>
</div>
       
 
 
              

                <div>

                    <script type="text/javascript">
                    Weibo.encoding = 'gbk';
                    var list2 = new Weibo.Widgets.List({
                        container: '#list2',
                        showUserCard: false
                    });
                    Weibo._getRequest({
                        url: 'http://topic.t.sina.com.cn/interface/ajax/get_feed_by_keyword',
                        data: {
                            keyword: '西藏和平解放',
                            page: 1,
                            pagesize: 10
                        },
                        onsuccess: function(data) {
                            list2.reset(data);
                            setTimeout(function() {
                                $('.weibo-list-videolink').each(function() {
                                    var parent = $(this).closest('.weibo-list-item');
                                    var url = parent.find('.weibo-list-time a').attr('href');
                                    $(this).attr('href', url).removeClass();
                                });
                            }, 200);
                        },
                        onfailure: function(status) {}
                    });
                    </script>
                </div>
            </div>
        </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-1.12.4.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.nivo.slider.pack.js"></script>
    <script>
    $(window).load(function() {
        $('#slider').nivoSlider({
            controlNav: false
        });
    });
    </script>

</body>

</html>